---
// Header.astro
import Logo from '@/components/ui/media/LogoImage.astro';
import Button from '../buttons/Button.astro';

interface Props {
	isOverlay?: boolean;
}

const navLinks = [
	{
		name: 'home',
		href: '/',
	},
	{
		name: 'about',
		href: '/about',
	},
	{
		name: 'services',
		href: '/services',
		childrenLinks: [
			{
				name: 'Web Develoment',
				href: '/web-development',
			},
			{
				name: 'AI Automation',
				href: '/ai-automation',
			},
			{
				name: 'Digital Marketing',
				href: '/digital-marketing',
			},
		],
	},
	{
		name: 'Who We Help',
		href: '/who-we-help',
	},
];

const { isOverlay = false } = Astro.props;
---

<header
	class={` w-full z-50 transition-all duration-300 ${
		isOverlay
			? 'absolute top-0 left-0 bg-transparent backdrop-blur-sm'
			: 'relative bg-white shadow-sm'
	}
`}
>
	<div class="max-w-7xl mx-auto px-4 py-2 sm:px-6 lg:px-8 lg:py-8">
		<div class="flex justify-between items-center py-4">
			<!-- Logo -->
			<Logo
				size="md"
				href="/"
				context="header"
				priority={true}
				loading="eager"
				className={isOverlay ? '' : ''}
			/>

			<!-- Navigation -->
			<nav class="hidden lg:flex lg:items-center lg:justify-center">
				<ul class="flex lg:gap-6 xl:gap-8">
					{
						navLinks.map((link) =>
							link.childrenLinks ? (
								<li class="flex justify-center items-center">
									<a
										class={`wsl-text-lg capitalize transition-colors duration-200 text-gray-200 hover:text-primary-500 flex xl:gap-1`}
										href={link.href}
									>
										{link.name}
										<svg
											xmlns="http://www.w3.org/2000/svg"
											width="24"
											height="24"
											viewBox="0 0 24 24"
										>
											<path
												fill="currentColor"
												d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6l-6-6z"
											/>
										</svg>
									</a>
								</li>
							) : (
								<li>
									<a
										class={`wsl-text-lg capitalize transition-colors duration-200 text-gray-200 hover:text-primary-500`}
										href={link.href}
									>
										{link.name}
									</a>
								</li>
							)
						)
					}
				</ul>
			</nav>
			<div class="hidden lg:flex lg:items-center lg:justify-center lg:gap-2">
				<Button
					text="Contact"
					type="link"
					linkColor="text-gray-200"
					href="/contact"
					class="wsl-text-lg font-semibold capitalize hover:text-primary-500"
				/>

				>
				<Button
					text="Schedule a Call"
					href="/schedule-call"
					class="button secondary"
				/>
			</div>

			<!-- Mobile menu button -->
			<button
				class={`lg:hidden p-2 rounded-md transition-colors duration-200 ${
					isOverlay
						? 'text-white hover:text-gray-200 hover:bg-white/10'
						: 'text-gray-700 hover:text-gray-900 hover:bg-gray-100'
				}
        `}
				aria-label="Toggle navigation menu"
			>
				<svg
					class={`w-6 h-6 ${isOverlay ? 'text-white' : 'text-gray-700'}`}
					fill="none"
					stroke="currentColor"
					viewBox="0 0 24 24"
				>
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						stroke-width="2"
						d="M4 6h16M4 12h16M4 18h16"
					></path>
				</svg>
			</button>
		</div>
	</div>
</header>

<style>
	/* Additional header styles for overlay effect */
	header.absolute {
		background: linear-gradient(
			180deg,
			rgba(0, 0, 0, 0.3) 0%,
			rgba(0, 0, 0, 0.1) 50%,
			transparent 100%
		);
	}

	/* Smooth scrolling offset for fixed header */
	@media (min-width: 768px) {
		header.absolute + main {
			scroll-margin-top: 80px;
		}
	}
</style>
